{% macro create_left_bottom_bar() %}

{% endmacro %}

{% macro create_right_bottom_bar() %}
{% if has_workflow %}
<li class="actions"><a href="{{ return_url }}"><i class="fa fa-times"></i> {{ _gettext('Cancel') }}</a></li>
  <li class="actions draft dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</span> <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="actions draft" style="display:none"><a href="javascript:void(0)"><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</a></li>
            <li class="actions review"><a href="javascript:void(0)"><i class="fa fa-search"></i> {{ _gettext('Review') }}</a></li>
            <li class="actions publish"><a href="javascript:void(0)"><i class="fa fa-thumbs-up"></i> {{ _gettext('Published') }}</a></li>
        </ul>
    </li>
{% endif %}
<li class="actions"><a href="javascript:void(0)" class="add-new"><i class="fa fa-refresh"></i> {{ _gettext('Save and Add') }}</a></li>
<li class="actions"><a role="submit" class="save-model" href="javascript:void(0)"><i class="fa fa-check"></i> {{ _gettext('Save') }}</a></li>
{% endmacro %}

{% macro list_left_bottom_bar() %}
{% if num_pages > 1 %}
<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-ellipsis-h"></i> Pagination <b class="caret"></b></a>
    <div class="dropdown-menu navbar-form form-inline pagination-menu" style="padding: 15px; min-width: 0px">
        {{lib.pager(page, num_pages, pager_url)}}
    </div>
</li>
{% endif %}

{% if filter_groups %}
<li>
    <a href="#" data-toggle="modal" data-target="#filter-modal"><i class="fa fa-filter"></i> Filter</a>
</li>
{% endif %}

{% if search_supported %}
<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-search"></i> {{ _gettext('Search') }} <b class="caret"></b></a>
    {#{{ model_layout.search_form() }#}
    <div class="dropdown-menu" style="padding: 15px; min-width: 0px;">
        <form method="GET" action="{{ return_url }}" class="search-form">
            {% if sort_column is not none %}
            <input type="hidden" name="sort" value="{{ sort_column }}"></input>
            {% endif %}
            {% if sort_desc %}
            <input type="hidden" name="desc" value="{{ sort_desc }}"></input>
            {% endif %}
            <div class="input-group" style="width: 400px">
                {% if search %}
                <span class="input-group-btn">
                    <a class="btn btn-default" href="{{ clear_search_url }}" type="button"><icon class="fa fa-times-circle fa-lg"></icon></a>
                </span>
                <input type="text" name="search" value="{{ search }}" class="{{ input_class }} form-control" placeholder="{{ _gettext('Search') }}">
                {% else %}
                <input type="text" name="search" class="{{ input_class }} form-control" placeholder="{{ _gettext('Search') }}">
                {% endif %}
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">Search</button>
                </span>
            </div>
        </form>
    </div>
</li>
{% endif %}

<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-sort-alpha-asc"></i> {{ _gettext('Sort') }} <b class="caret"></b></a>
    <ul class="dropdown-menu">
        {% set column = 0 %}
        {% for c, name in list_columns %}
        {% if admin_view.is_sortable(c) %}
        <li>
            {% if sort_column == column %}
            <a href="{{ sort_url(column, True) }}">
                {{ name }}
                <span class="pull-right">
                    {% if sort_desc %}
                    <icon class="fa fa-arrow-circle-up fa-lg"></icon>
                    {% else %}
                    <icon class="fa fa-arrow-circle-down fa-lg"></icon>
                    {% endif %}
                </span>
            </a>
            {% else %}
            <a href="{{ sort_url(column) }}">{{ name }}</a>
            {% endif %}
        </li>
        {% endif %}
        {% set column = column + 1 %}
        {% endfor %}
    </ul>
</li>
{% endmacro %}

{% macro list_right_bottom_bar() %}
{% if admin_view.can_create %}
<li class="actions create">
    <a href="{{ url_for('.create_view', url=return_url) }}"><i class="fa fa-plus"></i>  {{ _gettext('Create') }}</a>
</li>
{% endif %}

{% if actions %}
<li class="dropdown">
    <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">Actions  <b class="caret"></b></a>
    <ul class="dropdown-menu">
        {% for p in actions %}
        <li class="actions delete disabled">
            <a href="javascript:void(0)" onclick="return modelActions.execute('{{ p[0] }}');">{% if p[2] %}{% endif %}{{ _gettext(p[1]) }}    <i class="fa fa-{{p[2]}}"></i></a>
        </li>
        {% endfor %}
    </ul>
</li>
{% endif %}
{% endmacro %}

{% macro edit_left_bottom_bar() %}
{% if actions %}
  <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">Actions  <b class="caret"></b></a>
        <ul class="dropdown-menu">
            {% for p in actions %}
            <li class="actions delete disabled">
                <a href="javascript:void(0)" onclick="return modelActions.execute('{{ p[0] }}');">{% if p[2] %}<i class="fa fa-{{p[2]}}"></i>  {% endif %}{{ _gettext(p[1]) }}</a>
            </li>
            {% endfor %}
        </ul>
    </li>
    {% endif %}

  {% if admin_view.get_preview_url(model) %}
  <li class="actions"><a href="{{ admin_view.get_preview_url(model) }}" target="new"><i class="fa fa-eye"></i>  {{ _gettext('Preview') }}</a></li>
  {% endif %}
{% endmacro %}

{% macro edit_right_bottom_bar() %}
<li class="actions">
  <a href="{{ return_url }}"><i class="fa fa-times"></i> {{ _gettext('Cancel') }}</a>
</li>
{% if has_workflow %}
    {% if model.shelf_state == "draft" %}
    <li class="actions draft dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</span> <b class="caret"></b></a>
          <ul class="dropdown-menu">
              <li class="actions draft" style="display:none"><a href="javascript:void(0)"><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</a></li>
              <li class="actions review"><a href="javascript:void(0)"><i class="fa fa-search"></i> {{ _gettext('Review') }}</a></li>
              <li class="actions publish"><a href="javascript:void(0)"><i class="fa fa-thumbs-up"></i> {{ _gettext('Published') }}</a></li>
          </ul>
      </li>
      {% elif model.shelf_state == "private" %}
      <li class="actions review dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span><i class="fa fa-search"></i> {{ _gettext('Review') }}</span> <b class="caret"></b></a>
          <ul class="dropdown-menu">
              <li class="actions draft"><a href="javascript:void(0)"><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</a></li>
              <li class="actions review" style="display:none"><a href="javascript:void(0)"><i class="fa fa-search"></i> {{ _gettext('Review') }}</a></li>
              <li class="actions publish"><a href="javascript:void(0)"><i class="fa fa-thumbs-up"></i> {{ _gettext('Published') }}</a></li>
          </ul>
      </li>
      {% elif model.shelf_state == "public" %}
      <li class="actions publish dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span><i class="fa fa-thumbs-up"></i> {{ _gettext('Published') }}</span> <b class="caret"></b></a>
          <ul class="dropdown-menu">
              <li class="actions draft"><a href="javascript:void(0)"><i class="fa fa-file-text-o"></i> {{ _gettext('Draft') }}</a></li>
              <li class="actions review"><a href="javascript:void(0)"><i class="fa fa-search"></i> {{ _gettext('Review') }}</a></li>
              <li class="actions publish" style="display:none"><a href="javascript:void(0)"><i class="fa fa-thumbs-up"></i> {{ _gettext('Published') }}</a></li>
          </ul>
      </li>
      {% endif %}
  {% endif %}
<li class="actions"><a role="submit" class="update-model" href="#"><i class="fa fa-refresh"></i>  {{ _gettext('Update') }}</a></li>
<li class="actions"><a role="submit" class="save-model" href="#"><i class="fa fa-check"></i>  {{ _gettext('Save') }}</a></li>
{% endmacro %}

{% macro filter_header(title="FILTER") %}
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="fa fa-times fa-lg"></i>
    </button>
    <h1>{{ title }}</h1>
{% endmacro %}

{% macro filter_form() %}
    <div style="min-height: 300px">
        <form id="filter_form" method="GET" action="{{ return_url }}">
            {%- for i, flt in enumerate(active_filters) -%}
                {% set filter = admin_view._filters[flt[0]] %}
                <div class="row" style="padding-left: 40px; padding-right: 40px; padding-top: 10px; padding-bottom: 10px">
                    <a href="javascript:void(0)" class="btn remove-filter col-xs-4" style="text-align: left" title="{{ _gettext('Remove Filter') }}">
                        <span class="close-icon">&times;</span>&nbsp;{{ filters[flt[0]] }}
                    </a>
                    <select class="filter-op form-control" data-role="select2">
                        {% for op in admin_view._filter_dict[filter.name] %}
                        <option value="{{ op[0] }}"{% if flt[0] == op[0] %} selected="selected"{% endif %}>{{ op[1] }}</option>
                        {% endfor %}
                    </select>
                    {%- set data = filter_data.get(flt[0]) -%}
                    {%- if data -%}
                    <select name="flt{{ i }}_{{ flt[0] }}" class="filter-val form-control" data-role="select2">
                        {%- for d in data %}
                        <option value="{{ d[0] }}"{% if flt[1] == d[0] %} selected{% endif %}>{{ d[1] }}</option>
                        {%- endfor %}
                    </select>
                    {%- else -%}
                        <input name="flt{{ i }}_{{ flt[0] }}" type="text" value="{{ flt[1] or '' }}" class="filter-val form-control"{% if flt[0] in filter_types %} data-role="{{ filter_types[flt[0]] }}"{% endif %}></input>
                    {%- endif -%}
                </div>            
            {% endfor %}
        </form>
    <div class="clearfix"></div>
</div>
{% endmacro %}

{% macro filter_footer(filter_groups) %}
<div style="height: 37px; width: 100%; padding: 0px;">
    <ul class="nav nav-pills" style="display: inline-block;">
        <li class="dropup">
            <a class="{{ btn_class }} dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                {{ _gettext('Add Filter') }}<b class="caret" style="border-bottom-color: #fff; border-top-color: #fff"></b>
            </a>
            <ul class="dropdown-menu field-filters">
                {% for k in filter_groups %}
                <li>
                    <a style="float: left" href="javascript:void(0)" class="filter" onclick="return false;">{{ k[0] }}</a>
                </li>
                {% endfor %}
            </ul>
        </li>

    </ul>                
    <ul class="nav nav-pills pull-right" style="display: inline-block;">
        <li class="actions clean">
            <a href="{{ clear_search_url }}" style="color: #fff">Clean filters</a>
        </li>
        <li class="actions apply">
            <a href="javascript:void(0)" style="color: #fff">Apply</a>
        </li>
    </ul>                    
</div>
{% endmacro %}

{% macro search_form(input_class="span2") %}
<form class="navbar-form" method="GET" action="{{ return_url }}">
    {#{% if sort_column is not none %}
    <input type="hidden" name="sort" value="{{ sort_column }}"></input>
    {% endif %}
    {% if sort_desc %}
    <input type="hidden" name="desc" value="{{ sort_desc }}"></input>
    {% endif %}#}
    {% if search %}
    <div class="input-group">
        <input type="text" name="search" value="{{ search }}" class="form-control {{ input_class }}" placeholder="{{ _gettext('Search') }}"></input>
        <span class="input-group-btn">
            <a href="{{ clear_search_url }}" class="clear add-on">
                <i class="icon-remove"></i>
            </a>
        </span>
    </div>
    {% else %}
    <div class="form-group">
        <input type="text" name="search" value="" class="form-control" placeholder="{{ _gettext('Search') }}"></input>
    </div>
    {% endif %}
</form>
{% endmacro %}